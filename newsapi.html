<!DOCTYPE html>
<html>
<head>
	<title>newsapi</title>
	<link href="newsapi.css" rel="stylesheet" type="text/css">

<style>
body
{
	display: grid;
	
	align-items: center;
}
img
{
	
	height:200px;
	width:400px;
	margin-right: 10px;
	margin-bottom: 10px;
}
p
{
	color:red;
	font-size: 20px;
}
 div
{
	display: flex;
	border:3px solid black;
	
	text-align: center;
	width: 600px;
	height: 200px;
	margin:3px auto 3px auto;
}

</style>



</head>


<body>
	<header>
		<p><span id="headerimage">5</span><span id="headtext">The Top Five</span> <a href="" >NEWS</a></p>
	</header>

	<div id="content" class="content"><div id="heading">TOP FIVE NEWS</div>
		<div><ol class="list"></ol></div>

	</div>

	
		

	
<script >
	window.onload=display;

var arr , myArray;
	function display()
	{
		var url = 'https://newsapi.org/v2/top-headlines?' +
          'country=us&' +
          'apiKey=14801299878447febf1405804ba97b23';
		var req = new Request(url);
		fetch(req)
    	.then(function(response) {
        //console.log(response.json());
        if (response.status !== 200) {
        console.log('Looks like there was a problem. Status Code: ' +
          response.status);
        return;
      }

    
    response.json().then(function(data) {
    	
        
        	console.log(data);
        	myArray=arr=Array.from(data.articles.splice(1,5));
        	console.log(myArray);


 	  	var div=document.getElementById("content");
    	var ul=document.querySelector("ol");
    	for(var i=0;i<myArray.length;i++)
    	{
    	var li=document.createElement("li");
    	li.setAttribute("id", `${myArray[i].url}`);
    	li.setAttribute("onclick" , "showurl(this.id)");
    	var disp = (myArray[i].title);
    	var newcontent=document.createTextNode(disp);
    	li.appendChild(newcontent);
    	ul.appendChild(li);
    	console.log(disp);
    }
        	
	});

    	
})
}
 
 function showurl(clicked_id)
 {
 //console.log(clicked_id);
 window.open(`${clicked_id}`);


}
	</script>
	

</body>
</html>